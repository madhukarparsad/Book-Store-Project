{"ast":null,"code":"import _defineProperty from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import{getBook,editBook}from'../../service/api';import'animate.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var temp={id:0,title:'',author:'',no_of_pages:0,published_at:''};var EditBook=function EditBook(){var _useState=useState(temp),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){loadBookDetails(id);},[id]);var loadBookDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getBook(id);case 2:response=_context.sent;setBook(response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function loadBookDetails(_x){return _ref.apply(this,arguments);};}();console.log(book);var onValueChange=function onValueChange(e){setBook(_objectSpread(_objectSpread({},book),{},_defineProperty({},e.target.name,e.target.value)));};var updateNewBook=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return editBook(book);case 2:response=_context2.sent;document.querySelector('.modal-text').textContent=response.data.message;document.querySelector('.modal').classList.toggle('hide-modal');case 5:case\"end\":return _context2.stop();}},_callee2);}));return function updateNewBook(){return _ref2.apply(this,arguments);};}();var closeModal=function closeModal(){document.querySelector('.modal').classList.toggle('hide-modal');};return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container animate__animated animate__backInDown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal hide-modal animate__animated animate__tada\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:closeModal,children:\"X\"}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-text\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/books\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-back-btn\",children:\"Back to Collection\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-book-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit book details.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",id:\"title\",placeholder:\"Title\",onChange:function onChange(e){return onValueChange(e);},value:book.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Author: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"author\",id:\"author\",placeholder:\"Author\",onChange:function onChange(e){return onValueChange(e);},value:book.author})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"# of Pages: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",name:\"no_of_pages\",id:\"no_of_pages\",placeholder:\"Total Pages\",onChange:function onChange(e){return onValueChange(e);},value:book.no_of_pages})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date Published: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"published_at\",id:\"published_at\",onChange:function onChange(e){return onValueChange(e);},value:book.published_at})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addBook-btn\",onClick:updateNewBook,children:\"Edit Book\"})]})]})});};export default EditBook;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","getBook","editBook","jsx","_jsx","jsxs","_jsxs","temp","id","title","author","no_of_pages","published_at","EditBook","_useState","_useState2","_slicedToArray","book","setBook","_useParams","loadBookDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","data","stop","_x","apply","arguments","console","log","onValueChange","e","_objectSpread","_defineProperty","target","name","value","updateNewBook","_ref2","_callee2","_callee2$","_context2","document","querySelector","textContent","message","classList","toggle","closeModal","children","className","onClick","href","type","placeholder","onChange","min"],"sources":["C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/src/pages/Books/EditBook.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getBook, editBook } from '../../service/api';\r\nimport 'animate.css';\r\n\r\nconst temp = {\r\n  id: 0,\r\n  title: '',\r\n  author: '',\r\n  no_of_pages: 0,\r\n  published_at: '',\r\n};\r\n\r\nconst EditBook = () => {\r\n  const [book, setBook] = useState(temp);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    loadBookDetails(id);\r\n  }, [id]);\r\n\r\n  const loadBookDetails = async (id) => {\r\n    const response = await getBook(id);\r\n    setBook(response.data);\r\n  };\r\n  console.log(book);\r\n  const onValueChange = (e) => {\r\n    setBook({ ...book, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const updateNewBook = async () => {\r\n    const response = await editBook(book);\r\n    document.querySelector('.modal-text').textContent = response.data.message;\r\n    document.querySelector('.modal').classList.toggle('hide-modal');\r\n  };\r\n\r\n  const closeModal = () => {\r\n    document.querySelector('.modal').classList.toggle('hide-modal');\r\n  };\r\n  return (\r\n    <section>\r\n      <div className='form-container animate__animated animate__backInDown'>\r\n        <div className='modal hide-modal animate__animated animate__tada'>\r\n          <button className='close-btn' onClick={closeModal}>\r\n            X\r\n          </button>\r\n          <p className='modal-text'></p>\r\n          <a href='/books'>\r\n            <button className='nav-back-btn'>Back to Collection</button>\r\n          </a>\r\n        </div>\r\n        <div className='add-book-form'>\r\n          <h1>Edit book details.</h1>\r\n          <div className='input-container'>\r\n            <label>Title: </label>\r\n            <input type='text' name='title' id='title' placeholder='Title' onChange={(e) => onValueChange(e)} value={book.title} />\r\n          </div>\r\n          <div className='input-container'>\r\n            <label>Author: </label>\r\n            <input type='text' name='author' id='author' placeholder='Author' onChange={(e) => onValueChange(e)} value={book.author} />\r\n          </div>\r\n          <div className='input-container'>\r\n            <label># of Pages: </label>\r\n            <input\r\n              type='number'\r\n              min='1'\r\n              name='no_of_pages'\r\n              id='no_of_pages'\r\n              placeholder='Total Pages'\r\n              onChange={(e) => onValueChange(e)}\r\n              value={book.no_of_pages}\r\n            />\r\n          </div>\r\n          <div className='input-container'>\r\n            <label>Date Published: </label>\r\n            <input type='date' name='published_at' id='published_at' onChange={(e) => onValueChange(e)} value={book.published_at} />\r\n          </div>\r\n          <button className='addBook-btn' onClick={updateNewBook}>\r\n            Edit Book\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default EditBook;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}