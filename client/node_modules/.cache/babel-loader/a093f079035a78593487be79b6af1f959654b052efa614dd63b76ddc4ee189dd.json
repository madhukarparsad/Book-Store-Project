{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{getBooks,deleteBook}from'../../service/api';import'./books.css';import'animate.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var temp=[{id:0,title:'',author:'',no_of_pages:0,published_at:''}];var Books=function Books(){var _useState=useState(temp),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];useEffect(function(){getAllBooks();},[]);var getAllBooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getBooks();case 2:response=_context.sent;setBooks(response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function getAllBooks(){return _ref.apply(this,arguments);};}();var deleteBookFromCollection=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return deleteBook(id);case 2:response=_context2.sent;document.querySelector('.modal-text').textContent=response.data.message;document.querySelector('.modal').classList.toggle('hide-modal');case 5:case\"end\":return _context2.stop();}},_callee2);}));return function deleteBookFromCollection(_x){return _ref2.apply(this,arguments);};}();var closeModal=function closeModal(){document.querySelector('.modal').classList.toggle('hide-modal');};return/*#__PURE__*/_jsxs(\"section\",{className:\"books-page animate__animated animate__backInDown\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Books Collection\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"books-container \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal hide-modal animate__animated animate__tada\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:closeModal,children:\"X\"}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-text\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/books\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-back-btn\",children:\"Back to Collection\"})})]}),books.length>0?books.map(function(book){return/*#__PURE__*/_jsxs(\"div\",{className:\"book-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"book-card-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Title: \",/*#__PURE__*/_jsx(\"span\",{className:\"light-text\",children:book.title})]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Author: \",/*#__PURE__*/_jsx(\"span\",{className:\"light-text\",children:book.author})]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"# of Pages: \",/*#__PURE__*/_jsx(\"span\",{className:\"light-text\",children:book.no_of_pages})]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Publish Date: \",/*#__PURE__*/_jsx(\"span\",{className:\"light-text\",children:book.published_at})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"book-card-buttons\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"books/editBook/\".concat(book.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"book-card-button edit-btn\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"book-card-button remove-btn\",onClick:function onClick(){return deleteBookFromCollection(book.id);},children:\"Remove\"})]})]});}):/*#__PURE__*/_jsx(\"div\",{className:\"book-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"book-card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"light-text\",children:\"Collection is Empty!\"})})})]})]});};export default Books;","map":{"version":3,"names":["React","useState","useEffect","getBooks","deleteBook","jsx","_jsx","jsxs","_jsxs","temp","id","title","author","no_of_pages","published_at","Books","_useState","_useState2","_slicedToArray","books","setBooks","getAllBooks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","data","stop","apply","arguments","deleteBookFromCollection","_ref2","_callee2","_callee2$","_context2","document","querySelector","textContent","message","classList","toggle","_x","closeModal","className","children","onClick","href","length","map","book","concat"],"sources":["C:/Users/NG/OneDrive/Desktop/wadhwani/bookmanagementsystem-main/client/src/pages/Books/Books.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getBooks, deleteBook } from '../../service/api';\r\nimport './books.css';\r\nimport 'animate.css';\r\n\r\nconst temp = [\r\n  {\r\n    id: 0,\r\n    title: '',\r\n    author: '',\r\n    no_of_pages: 0,\r\n    published_at: '',\r\n  },\r\n];\r\nconst Books = () => {\r\n  const [books, setBooks] = useState(temp);\r\n\r\n  useEffect(() => {\r\n    getAllBooks();\r\n  }, []);\r\n\r\n  const getAllBooks = async () => {\r\n    let response = await getBooks();\r\n    setBooks(response.data);\r\n  };\r\n\r\n  const deleteBookFromCollection = async (id) => {\r\n    const response = await deleteBook(id);\r\n    document.querySelector('.modal-text').textContent = response.data.message;\r\n    document.querySelector('.modal').classList.toggle('hide-modal');\r\n  };\r\n\r\n  const closeModal = () => {\r\n    document.querySelector('.modal').classList.toggle('hide-modal');\r\n  };\r\n\r\n  return (\r\n    <section className='books-page animate__animated animate__backInDown'>\r\n      <h1>Books Collection</h1>\r\n\r\n      <div className='books-container '>\r\n        <div className='modal hide-modal animate__animated animate__tada'>\r\n          <button className='close-btn' onClick={closeModal}>\r\n            X\r\n          </button>\r\n          <p className='modal-text'></p>\r\n          <a href='/books'>\r\n            <button className='nav-back-btn'>Back to Collection</button>\r\n          </a>\r\n        </div>\r\n        {books.length > 0 ? (\r\n          books.map((book) => (\r\n            <div className='book-card'>\r\n              <div className='book-card-header'>\r\n                <h2>\r\n                  Title: <span className='light-text'>{book.title}</span>\r\n                </h2>\r\n                <h3>\r\n                  Author: <span className='light-text'>{book.author}</span>\r\n                </h3>\r\n                <h4>\r\n                  # of Pages: <span className='light-text'>{book.no_of_pages}</span>\r\n                </h4>\r\n                <h4>\r\n                  Publish Date: <span className='light-text'>{book.published_at}</span>\r\n                </h4>\r\n              </div>\r\n              <div className='book-card-buttons'>\r\n                <a href={`books/editBook/${book.id}`}>\r\n                  <button className='book-card-button edit-btn'>Edit</button>\r\n                </a>\r\n                <button className='book-card-button remove-btn' onClick={() => deleteBookFromCollection(book.id)}>\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className='book-card'>\r\n            <div className='book-card-header'>\r\n              <h2 className='light-text'>Collection is Empty!</h2>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Books;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}